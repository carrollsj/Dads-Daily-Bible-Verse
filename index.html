<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dad's Daily Bible Verse</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <!-- Verse display -->
  <div class="verse-container">
    <div class="overlay">
      <h1 id="verse-text">Loading today's verse...</h1>
      <p id="verse-reference"></p>
      <p id="custom-message"></p>
    </div>
    <div class="love-dad">Love Dad</div>
  </div>

  <!-- Interaction section -->
  <div class="interaction-section">
    <button id="like-button">‚ù§Ô∏è Like <span id="like-count">0</span></button>

    <!-- Comments -->
    <div class="comments-section">
      <h3>Comments</h3>
      <div id="comment-list">
        <p>No comments yet. Be the first to share your thoughts!</p>
      </div>
      <textarea id="new-comment" placeholder="Write a comment..."></textarea>
      <button id="add-comment">Add Comment</button>
    </div>

    <!-- Search -->
    <div class="search-section">
      <h3>Search Previous Verses</h3>
      <input type="text" id="search-input" placeholder="Search by verse or keyword...">
      <button id="search-button">Search</button>
      <div id="search-results"></div>
    </div>

    <!-- Verse requests -->
    <div class="request-section">
      <h3>Request a Verse or Topic</h3>
      <textarea id="request-input" placeholder="Ask Dad for a verse or topic..."></textarea>
      <button id="send-request">Send Request</button>
      <p id="request-confirmation" class="hidden">Request sent! üíå</p>
    </div>
  </div>

  <!-- Admin link -->
  <a href="admin.html" class="admin-link">‚öôÔ∏è Admin</a>

  <script>
    // Load the current verse on page load
    async function loadCurrentVerse() {
      try {
        const response = await fetch('/data/current-verse.json');
        if (response.ok) {
          const data = await response.json();
          
          // Update the page with verse data
          document.getElementById('verse-text').textContent = `"${data.text}"`;
          document.getElementById('verse-reference').textContent = `${data.verse} (${data.version})`;
          document.getElementById('custom-message').textContent = data.message || '';
          
          // If there's an image URL, set it as background
          if (data.image_url) {
            const container = document.querySelector('.verse-container');
            container.style.backgroundImage = `url(${data.image_url})`;
            container.style.backgroundSize = 'cover';
            container.style.backgroundPosition = 'center';
          }
        }
      } catch (error) {
        console.error('Error loading verse:', error);
        // Keep the default hardcoded verse if fetch fails
        document.getElementById('verse-text').textContent = '"The Lord is my shepherd; I have what I need."';
        document.getElementById('verse-reference').textContent = 'Psalm 23:1 (CSB)';
        document.getElementById('custom-message').textContent = 'Have a peaceful day. ‚ù§Ô∏è';
      }
    }

    // Load verse when page loads
    loadCurrentVerse();
  </script>
  
  <script src="assets/script.js"></script>
</body>
</html>
